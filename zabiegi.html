<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‚òÖ Rezerwacja terminu wizyty. Przed≈Çu≈ºanie rzƒôs Warszawa Praga Po≈Çudnie üëç</title>
  <meta name="description" content="Rezerwuj wizytƒô online. Sprawd≈∫ wolne terminy. Metoda 1:1 100z≈Ç, 2-3D 120z≈Ç, 4-5D 150z≈Ç">
  <meta name="keywords" content="przed≈Çu≈ºanie rzƒôs stylizacja zagƒôszczanie kocie oko kƒôpki rzƒôsy oczy uroda">

  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Fira+Sans|Roboto:300,400|Questrial|Satisfy">
  <link rel="stylesheet" type="text/css" href="css/fonts.css">
  <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/animate.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" class="ui" href="https://semantic-ui.com/dist/semantic.min.css">
  <link rel="stylesheet" type="text/css" class="ui" href="css/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="css/calendar.min.css" />

  <script src="js/jquery-2.1.4.js"></script>
  <script src="js/semantic.min.js"></script>
  <script src="js/calendar.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118788983-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-118788983-1');
  </script>

  <!-- Hotjar Tracking Code for efektmotyla.waw.pl -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:871239,hjsv:6};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>

  <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.1.0/email.min.js"></script>
  <script type="text/javascript">(function(){ emailjs.init("user_TuybsFctQQeHmUSgacGvH"); })();</script>

  <script>
  var chosen_service = null;
  var chosen_date = null;

  var service_descriptions = {
    'przedluzanie 1-1': 'Przed≈Çu≈ºanie rzƒôs 1-1. Zabieg trwa oko≈Ço 3h.',
    'uzupelnianie 1-1': 'Uzupelnianie rzƒôs 1-1 (do 3 tygodni od ostatniej aplikacji). Zabieg trwa oko≈Ço 2.5h. <b>Uwaga</b>: nie uzupe≈Çniam rzƒôs po innych stylistkach, wtedy traktujƒô zabieg jako nowƒÖ aplikacjƒô.',
    'przedluzanie 2-3d': 'Przed≈Çu≈ºanie rzƒôs 2-3D. Zabieg trwa oko≈Ço 3.5h.',
    'uzupelnianie 2-3d': 'Uzupelnianie rzƒôs 2-3D (do 3 tygodni od ostatniej aplikacji). Zabieg trwa oko≈Ço 3h. <b>Uwaga</b>: nie uzupe≈Çniam rzƒôs po innych stylistkach, wtedy traktujƒô zabieg jako nowƒÖ aplikacjƒô.',
    'przedluzanie 4-5d': 'Przed≈Çu≈ºanie rzƒôs 4-5D. Zabieg trwa oko≈Ço 3.5h.',
    'uzupelnianie 4-5d': 'Uzupelnianie rzƒôs 4-5D (do 3 tygodni od ostatniej aplikacji). Zabieg trwa oko≈Ço 3h. <b>Uwaga</b>: nie uzupe≈Çniam rzƒôs po innych stylistkach, wtedy traktujƒô zabieg jako nowƒÖ aplikacjƒô.',
    'usuniecie rzes': 'Zdejmowanie rzƒôs. Zabieg trwa oko≈Ço 30 minut.'
  }

  var choose_service = function(service) {
    chosen_service = service;
    $("#step2_desc").html(service_descriptions[service])
    $("#step3_desc").html(service_descriptions[service])
    switch_view("#step1", "#step3")
  }

  var switch_view = function(fromStep, toStep) {
    $(fromStep).fadeOut("slow", function() {
      $(toStep).fadeIn("slow")
    })
  }

  var back_to_calendar = function() {
    $('#example14').calendar('clear')
    switch_view('#step3','#step2')
  }

  var reservation = function(phone_number, customer_name, chosen_date) {
    if (phone_number.length < 5 || Boolean(phone_number.match(/[A-z]/g))) {
      $("#phone").css("border", "1px solid #f00")
      alert("Wpisano niepoprawny numer telefonu")
      return
    }

    var template_params = {
      chosen_service: chosen_service,
      chosen_date: chosen_date,
      phone_number: phone_number,
      customer_name: customer_name
    };

    $("#reservation_button").addClass("loading disabled")

    emailjs.send('mailgun', 'umowienie_wizyty', template_params).then(function(response) {
         console.log('SUCCESS!', response.status, response.text);
        switch_view("#step3", "#step_success")
      }, function(error) {
         console.log('FAILED...', error);
          switch_view("#step3", "#step_failure")
      });
  }
  </script>

</head>

<body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="60">

  <section style="text-align: center; padding: 20px">
    <img src="img/logo.png" width="170" />
  </section>

  <section id="about" class="section-padding wow fadeIn delay-05s">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-right" style="margin-top: 30px">

          <div id="step1" style="display: block">
            <h2 class="title-text">
              <a class="ui pink label" style="vertical-align: middle; margin-right: 20px">Krok 1/2</a>
              Jaki zabieg rzƒôs Ciebie interesuje? 
            </h2>
            <br />
            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('przedluzanie 1-1')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Przed≈Çu≈ºanie 1:1
              </div>
              <a class="ui basic teal left pointing label" style="width: 32%;">
                <span style="color: #e03997; font-weight: 100">100 z≈Ç (3h)</span>
              </a>
            </div>

            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('uzupelnianie 1-1')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Uzupe≈Çnianie 1:1
              </div>
              <a class="ui basic teal left pointing label"  style="width: 32%">
                <span style="color: #e03997; font-weight: 100">80 z≈Ç (2.5h)</span>
              </a>
            </div><br />

            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('przedluzanie 2-3d')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Przed≈Çu≈ºanie 2-3D
              </div>
              <a class="ui basic teal left pointing label" style="width: 32%">
                <span style="color: #e03997; font-weight: 100">120 z≈Ç (3.5h)</span>
              </a>
            </div>

            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('uzupelnianie 2-3d')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Uzupe≈Çnianie 2-3D
              </div>
              <a class="ui basic teal left pointing label" style="width: 32%">
                <span style="color: #e03997; font-weight: 100">100 z≈Ç (3h)</span>
              </a>
            </div><br />

            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('przedluzanie 4-5d')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Przed≈Çu≈ºanie 4-5D
              </div>
              <a class="ui basic teal left pointing label" style="width: 32%">
                <span style="color: #e03997; font-weight: 100">150 z≈Ç (3.5h)</span>
              </a>
            </div>

            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('uzupelnianie 4-5d')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Uzupe≈Çnianie 4-5D
              </div>
              <a class="ui basic teal left pointing label" style="width: 32%">
                <span style="color: #e03997; font-weight: 100">120 z≈Ç (3.5h)</span>
              </a>
            </div><br />

            <div class="ui labeled button" style="margin: 10px; width: 330px" onclick="choose_service('usuniecie rzes')">
              <div class="ui large teal button" style="width: 68%; text-align: left">
                <i class="heart icon"></i> Zdejmowanie rzƒôs
              </div>
              <a class="ui basic teal left pointing label" style="width: 32%">
                <span style="color: #e03997; font-weight: 100">30 z≈Ç (0.5h)</span>
              </a>
            </div><br />

          </div> 


          <div id="step2">
            <h2 class="title-text">
              <a class="ui pink label" style="vertical-align: middle; margin-right: 20px">Krok 2/3</a>
              Wybierz termin zabiegu
            </h2>
            <br />

            <div id="calendar-div">
             <div class="ui calendar" id="example14"></div>
            </div>
            <div id="info-div">
             <button class="ui small labeled icon button" onclick="switch_view('#step2','#step1')">
              <i class="left arrow icon"></i>
              Cofnij
             </button>
             <br />
             <div style="padding: 10px; margin-top:30px; text-align: center">
             <b>Wybrany zabieg:</b><br /> <span id="step2_desc"></span>
             </div>
            </div>
          </div>


          <div id="step3">
            <h2 class="title-text">
              <a class="ui pink label" style="vertical-align: middle; margin-right: 20px">Krok 2/2</a>
              Podaj informacje
            </h2>
            <br />

            <div id="confirmation-div">
             <b>Wybrany zabieg:</b><br /> <span id="step3_desc"></span> <br /><br />
             <b>Terminy wizyt:</b><br /> <span id="step3_date">Przyjmujƒô wizyty od poniedzia≈Çku do soboty od godz. 9:00. Najp√≥≈∫niejsza mo≈ºliwa godzina wizyty to godz. 18:00. Po odebraniu Twojej rezerwacji skontaktujƒô siƒô z TobƒÖ.</span> <br /><br />
             
              <div class="ui labeled input" style="width: 100%; margin-bottom: 10px;">
                <div class="ui label" style="width: 47%; text-align: left">
                  <i class="phone icon"></i>
                  Tw√≥j numer telefonu:
                </div>
                <input type="text" id="phone" autofocus>
              </div>

              <div class="ui labeled input" style="width: 100%; margin-bottom: 10px;">
                <div class="ui label" style="width: 47%; text-align: left">
                  <i class="user icon"></i>
                  Twoje imiƒô:
                </div>
                <input type="text" id="name">
              </div>

              <div class="ui labeled input" style="width: 100%; margin-bottom: 10px;">
                <div class="ui label" style="width: 47%; text-align: left">
                  <i class="calendar icon"></i>
                  Jaki termin Ciebie interesuje:
                </div>
                <input type="text" id="termin">
              </div>

             <button id="reservation_button" class="ui big labeled teal icon button" style="width: 53%" onclick="reservation($('#phone').val(), $('#name').val(), $('#termin').val())">
              <i class="calendar check outline icon"></i>
              Zarezerwuj wizytƒô
             </button>
            </div>
            <div id="back-div">
             <button class="ui small labeled icon button" onclick="back_to_calendar()">
              <i class="left arrow icon"></i>
              Cofnij
             </button>
            </div>
          </div>


          <div id="step_success">
            <h2 class="title-text">
              Dziƒôkujƒô!
            </h2>
            <br />

            <div id="success-div">
              Pro≈õba o rezerwacjƒô wizyty zosta≈Ça do mnie wys≈Çana.
              <span style="color: #e61a8d">Dzisiaj</span> skontaktujƒô siƒô z TobƒÖ z potwierdzeniem um√≥wienia wizyty!
              <br /><br /><br />
              <span style="font-size: 2em">
                <i class="phone volume icon"></i>
                <i class="mobile alternate icon"></i>
                <i class="comment outline icon"></i>
              </span>
            </div>
          </div>

          <div id="step_failure">
            <h2 class="title-text">
              WystƒÖpi≈Ç b≈ÇƒÖd <i class="frown outline icon"></i>
            </h2>
            <br />

            <div id="failure-div">
              Niestety wystƒÖpi≈Ç nieoczekiwany b≈ÇƒÖd podczas wysy≈Çania wiadomo≈õci.<br /><br />
              Proszƒô o kontakt poprzez sms:<br /><span style="color: #e61a8d">+48 881 378 603</span><br /><br />
              lub wiadomo≈õƒá email:<br /><span style="color: #e61a8d">joanna.efektmotyla@gmail.com</span>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>
  <section id="contact" style="margin-top: 0">
    <div class="container">
      <div class="row">
        <div class="col-md-12" style="color: #fff; text-align: center; padding: 50px">

          <div class="ui horizontal list" style="margin-top: 20px">
            <div class="item">
              <i class="phone icon"></i>
              <div class="content">
                <a href="tel:+48881378603" style="color: #fff">+48 881 378 603</a>
              </div>
            </div>
            <div class="item">
              <i class="marker icon"></i>
              <div class="content">
                ul. Zamieniecka 54, Warszawa, Praga Po≈Çudnie
              </div>
            </div>
          </div>

          <div class="ui small images" style="margin-top: 30px">
            <img src="img/portfolio04.jpg" style="margin: 30px; border: 1px dashed #009c95; padding: 2px; background: #fff">
            <img src="img/portfolio06.jpg" style="margin: 30px; border: 1px dashed #009c95; padding: 2px; background: #fff">
            <img src="img/portfolio08.jpg" style="margin: 30px; border: 1px dashed #009c95; padding: 2px; background: #fff">
            <img src="img/portfolio07.jpg" style="margin: 30px; border: 1px dashed #009c95; padding: 2px; background: #fff">
            <img src="img/portfolio05.jpg" style="margin: 30px; border: 1px dashed #009c95; padding: 2px; background: #fff">
          </div>

        </div>
      </div>
    </div>
  </section>

<script>
const months_fullnames = ['Stycze≈Ñ','Luty','Marzec','Kwiecie≈Ñ','Maj','Czerwiec','Lipiec','Sierpie≈Ñ','Wrzesie≈Ñ','Pa≈∫dziernik','Listopad','Grudzie≈Ñ'];

var is_day_available = function(dates, year, month, day) {
  const month_name = months_fullnames[month];
  const today = new Date();
  const checked_day = new Date(year, month, day)
  return checked_day > today &&
         dates[year] !== undefined &&
         dates[year][month_name] !== undefined &&
         dates[year][month_name][day] !== undefined
}

var is_hour_available = function(dates, year, month, day, hour) {
  const month_name = months_fullnames[month];
  return dates[year] !== undefined &&
         dates[year][month_name] !== undefined &&
         dates[year][month_name][day] !== undefined &&
         dates[year][month_name][day].includes(hour)
}

$.getJSON('dates.json').done(function(json) {

  const dates = json.available_dates;

  $('#example14').calendar({
    inline: true,
    disableMinute: true,
    disableYear: true,
    disableMonth: true,
    firstDayOfWeek: 1,
    ampm: false,
    text: {
        days: ['Nie', 'Pon', 'Wto', '≈öro', 'Czw', 'Pt', 'Sob'],
        months: months_fullnames,
        monthsShort: ['Sty','Lut','Mar','Kwi','Maj','Cze','Lip','Sie','Wrz','Pa≈∫','Lis','Gru'],
        today: 'Dzisiaj',
        now: 'Teraz',
        am: 'AM',
        pm: 'PM'
      },
    formatter: {
      cell: function (cell, date, cellOptions) {
        
        var is_available = is_day_available(dates, date.getFullYear(), date.getMonth(), date.getDate()) &&
                           (cellOptions.mode != "hour" || is_hour_available(dates, date.getFullYear(), date.getMonth(), date.getDate(), date.getHours()))

        if (is_available) {
          cell.toggleClass('disabled', false)
          cell.toggleClass('available-date', true)
        } else {
          cell.toggleClass('disabled', true)
          cell.toggleClass('available-date', false)
        }

        if (cellOptions.active) {
          chosen_date = date.toLocaleString("pl-PL");
          $("#step3_date").html(chosen_date)
          switch_view("#step2", "#step3")
        }
      }
    },
    className: {
        activeCell: 'chosen-date'
    }
  });

}).fail(function( jqxhr, textStatus, error ) {
  console.log("Request Failed: " + textStatus + ", " + error);
});

</script>

  <script src="js/jquery.easing.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/wow.js"></script>
  <script src="js/custom.js"></script>

</body>

</html>
